{"ast":null,"code":"import { ApolloClient } from 'apollo-client';\nimport { HttpLink } from 'apollo-link-http';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport fetch from 'isomorphic-unfetch';\nvar apolloClient = null; // Polyfill fetch() on the server (used by apollo-client)\n\nif (!process.browser) {\n  global.fetch = fetch;\n}\n\nfunction create(initialState) {\n  // Check out https://github.com/zeit/next.js/pull/4611 if you want to use the AWSAppSyncClient\n  return new ApolloClient({\n    connectToDevTools: process.browser,\n    ssrMode: !process.browser,\n    // Disables forceFetch on the server (so queries are only run once)\n    link: new HttpLink({\n      uri: 'https://strapi.hulea.org/graphql',\n      // Server URL (must be absolute)\n      credentials: 'same-origin' // Additional fetch() options like `credentials` or `headers`\n\n    }),\n    cache: new InMemoryCache().restore(initialState || {})\n  });\n}\n\nexport default function initApollo(initialState) {\n  // Make sure to create a new client for every server-side request so that data\n  // isn't shared between connections (which would be bad)\n  if (!process.browser) {\n    return create(initialState);\n  } // Reuse client on the client-side\n\n\n  if (!apolloClient) {\n    apolloClient = create(initialState);\n  }\n\n  return apolloClient;\n}","map":{"version":3,"sources":["/mnt/d/wamp64/www/main-hulea-site/lib/initApollo.js"],"names":["ApolloClient","HttpLink","InMemoryCache","fetch","apolloClient","process","browser","global","create","initialState","connectToDevTools","ssrMode","link","uri","credentials","cache","restore","initApollo"],"mappings":"AAAA,SAASA,YAAT,QAA6B,eAA7B;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AAEA,IAAIC,YAAY,GAAG,IAAnB,C,CAEA;;AACA,IAAI,CAACC,OAAO,CAACC,OAAb,EAAsB;AACpBC,EAAAA,MAAM,CAACJ,KAAP,GAAeA,KAAf;AACD;;AAED,SAASK,MAAT,CAAiBC,YAAjB,EAA+B;AAC7B;AACA,SAAO,IAAIT,YAAJ,CAAiB;AACtBU,IAAAA,iBAAiB,EAAEL,OAAO,CAACC,OADL;AAEtBK,IAAAA,OAAO,EAAE,CAACN,OAAO,CAACC,OAFI;AAEK;AAC3BM,IAAAA,IAAI,EAAE,IAAIX,QAAJ,CAAa;AACjBY,MAAAA,GAAG,EAAE,kCADY;AACwB;AACzCC,MAAAA,WAAW,EAAE,aAFI,CAEU;;AAFV,KAAb,CAHgB;AAOtBC,IAAAA,KAAK,EAAE,IAAIb,aAAJ,GAAoBc,OAApB,CAA4BP,YAAY,IAAI,EAA5C;AAPe,GAAjB,CAAP;AASD;;AAED,eAAe,SAASQ,UAAT,CAAqBR,YAArB,EAAmC;AAChD;AACA;AACA,MAAI,CAACJ,OAAO,CAACC,OAAb,EAAsB;AACpB,WAAOE,MAAM,CAACC,YAAD,CAAb;AACD,GAL+C,CAOhD;;;AACA,MAAI,CAACL,YAAL,EAAmB;AACjBA,IAAAA,YAAY,GAAGI,MAAM,CAACC,YAAD,CAArB;AACD;;AAED,SAAOL,YAAP;AACD","sourcesContent":["import { ApolloClient } from 'apollo-client'\nimport { HttpLink } from 'apollo-link-http'\nimport { InMemoryCache } from 'apollo-cache-inmemory'\nimport fetch from 'isomorphic-unfetch'\n\nlet apolloClient = null\n\n// Polyfill fetch() on the server (used by apollo-client)\nif (!process.browser) {\n  global.fetch = fetch\n}\n\nfunction create (initialState) {\n  // Check out https://github.com/zeit/next.js/pull/4611 if you want to use the AWSAppSyncClient\n  return new ApolloClient({\n    connectToDevTools: process.browser,\n    ssrMode: !process.browser, // Disables forceFetch on the server (so queries are only run once)\n    link: new HttpLink({\n      uri: 'https://strapi.hulea.org/graphql', // Server URL (must be absolute)\n      credentials: 'same-origin' // Additional fetch() options like `credentials` or `headers`\n    }),\n    cache: new InMemoryCache().restore(initialState || {})\n  })\n}\n\nexport default function initApollo (initialState) {\n  // Make sure to create a new client for every server-side request so that data\n  // isn't shared between connections (which would be bad)\n  if (!process.browser) {\n    return create(initialState)\n  }\n\n  // Reuse client on the client-side\n  if (!apolloClient) {\n    apolloClient = create(initialState)\n  }\n\n  return apolloClient\n}\n"]},"metadata":{},"sourceType":"module"}